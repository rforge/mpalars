STKPPDIR = ./stkpp
LARSDIR = ./lars
FUSIONDIR = ./fusion
LASSOMODELSDIR = ./lassoModels

HDLIB = ./libHD.a
STKPPLIBDIR = $(STKPPDIR)/lib
STKPPLIB = $(STKPPLIBDIR)/libSTKpp.a

## Use the R_HOME indirection to support installations of multiple R version
PKG_LIBS = `$(R_HOME)/bin/Rscript -e "Rcpp:::LdFlags()"` $(HDLIB) $(STKPPLIB)

PKG_CPPFLAGS +=  -I../ -I./

.PHONY: all libhd

all: $(SHLIB)
$(SHLIB): libhd

libhd:
	(cd $(STKPPDIR) && $(MAKE) all)
	($(MAKE)  -f lars.mk)
	($(MAKE) -f fusion.mk)
	($(MAKE) -f lassoModels.mk)

