STKPPDIR = ./stkpp
STKPPLIBDIR = $(STKPPDIR)/lib
STKPPLIB    = $(STKPPLIBDIR)/libSTKpp.a

PKG_CPPFLAGS =  $(SHLIB_OPENMP_CXXFLAGS)

## Use the R_HOME indirection to support installations of multiple R version
PKG_LIBS = `$(R_HOME)/bin/Rscript -e "Rcpp:::LdFlags()"` $(SHLIB_OPENMP_CXXFLAGS) -L$(STKPPLIBDIR) $(STKPPLIB)

.PHONY: all stkpp

all: $(SHLIB)
$(SHLIB): stkpp

stkpp:
	(cd $(STKPPDIR) && $(MAKE) all)
	$(RANLIB) $(STKPPLIB)

